# PRD: metaldragon.co.kr 개인 포털

## 1. 프로젝트 개요

### 1.1 프로젝트 정보
- **프로젝트 명**: metaldragon.co.kr 개인 포털
- **도메인**: metaldragon.co.kr (구매 완료)
- **타입**: 개인 블로그 + 다목적 포털 플랫폼
- **인프라**: 자체 서버 + Cloudflare CDN

### 1.2 비전
개인의 일상 관리, 학습 활동, 창작물 공유를 하나의 통합 플랫폼에서 관리하는 현대적인 개인 포털 사이트. AI 기술을 활용한 자동화된 정보 수집과 스마트한 가계부 관리를 통해 생산성을 높이고, 다양한 스터디 게시판을 통해 지식 공유의 허브 역할을 수행한다.

### 1.3 핵심 가치
- **자동화**: 뉴스 수집, 유튜브 크롤링, 문자 메시지 연동 등 반복 작업 자동화
- **통합성**: 일정, 가계부, 학습, 창작을 하나의 플랫폼에서 관리
- **확장성**: 모듈형 구조로 향후 기능 추가 용이
- **현대성**: 최신 웹 기술과 트렌디한 UI/UX

---

## 2. 목표 및 성공 지표

### 2.1 비즈니스 목표
1. 개인 브랜딩 강화 (자기소개, 포트폴리오 역할)
2. 일상 관리 효율성 향상 (일정, 가계부)
3. 학습 커뮤니티 구축 (AI 스터디, 빅데이터처리기사)
4. AI 창작물 아카이빙 플랫폼 구축

### 2.2 성공 지표 (KPI)
- **트래픽**: 월 방문자 1,000명 이상 (6개월 내)
- **자동화 효율**: 뉴스 업데이트 일 1회 자동 실행 성공률 95% 이상
- **커뮤니티 활성화**: 스터디 게시판 월 게시물 20개 이상
- **사용자 경험**: 페이지 로딩 속도 3초 이내, 모바일 반응형 100%
- **시스템 안정성**: 월 업타임 99.5% 이상

### 2.3 기술 목표
- Supabase 전체 스택 활용 (Auth, DB, Storage, Realtime, Edge Functions)
- 서버 컴포넌트(RSC) 적극 활용으로 성능 최적화
- Edge Functions로 크롤링/자동화 작업 처리
- RLS(Row Level Security)를 통한 보안 강화

---

## 3. 사용자 페르소나

### 3.1 주 사용자 (관리자)
- **이름**: 사이트 운영자
- **역할**: 콘텐츠 생성자, 관리자
- **니즈**:
  - 일정과 가계부를 한 곳에서 관리
  - IT/AI/코인 뉴스를 자동으로 받아보기
  - 유튜브 커버 링크를 쉽게 정리
  - 스터디 자료와 AI 창작물을 체계적으로 정리
  - 방문자 문의 이메일 수신

### 3.2 부 사용자 (방문자)
- **유형**:
  - 스터디 참여자 (AI, 빅데이터처리기사)
  - AI 창작물 감상자
  - IT 뉴스 독자
  - 포트폴리오 확인자 (채용 담당자 등)
- **니즈**:
  - 최신 IT/AI 뉴스 확인
  - 스터디 자료 열람 및 참여
  - AI 창작물 감상
  - 관리자에게 연락

---

## 4. 기능 요구사항

### 4.1 필수 기능 (P0) - Phase 1

#### 4.1.1 인증 시스템
- **사용자 회원가입/로그인**
  - 이메일/비밀번호 인증
  - 소셜 로그인 (Google, GitHub)
  - 이메일 인증
  - 비밀번호 찾기
- **관리자 권한 관리**
  - 관리자/일반 사용자 역할 구분
  - 관리자 페이지 접근 제어
  - Supabase RLS 기반 권한 제어

#### 4.1.2 자기소개 페이지
- **개인 프로필**
  - 프로필 이미지 (Supabase Storage)
  - 이름, 직함, 소개글
  - SNS 링크 (GitHub, LinkedIn, YouTube 등)
  - 이력서/CV 다운로드
- **기술 스택 표시**
  - 아이콘 + 설명
  - 숙련도 표시
- **포트폴리오 섹션**
  - 프로젝트 카드 (이미지, 제목, 설명, 링크)
  - 태그 필터링

#### 4.1.3 게시판 시스템 (기본)
- **공통 기능**
  - 게시글 작성/수정/삭제 (CRUD)
  - 마크다운 에디터
  - 파일 첨부 (이미지, 문서)
  - 댓글 시스템
  - 좋아요/조회수
  - 검색 및 필터링
  - 페이지네이션
- **게시판 종류**
  - AI 스터디 게시판
  - 빅데이터처리기사 스터디 게시판
  - 자유게시판
- **권한 관리**
  - 읽기: 모든 방문자
  - 쓰기: 로그인 사용자
  - 수정/삭제: 작성자 또는 관리자

### 4.2 중요 기능 (P1) - Phase 2

#### 4.2.1 일정 관리 시스템
- **캘린더 뷰**
  - 월간/주간/일간 뷰
  - 이벤트 생성/수정/삭제
  - 드래그 앤 드롭으로 일정 이동
  - 색상 카테고리 (업무, 개인, 스터디 등)
- **일정 알림**
  - 이메일 알림 (Supabase Edge Functions)
  - 브라우저 푸시 알림 (선택사항)
- **반복 일정**
  - 매일/매주/매월 반복 설정
- **공개 설정**
  - 공개/비공개 일정 구분
  - 관리자만 전체 일정 확인

#### 4.2.2 IT 뉴스 자동 업데이트
- **뉴스 크롤링 (Edge Functions)**
  - AI 관련 뉴스
    - 출처: TechCrunch, VentureBeat, AI 전문 블로그
  - 코인(암호화폐) 관련 뉴스
    - 출처: CoinDesk, CoinTelegraph, 업비트/빗썸 공지사항
  - 일 1회 자동 실행 (Supabase Edge Functions + Cron)
- **뉴스 카드 UI**
  - 썸네일 이미지
  - 제목, 요약, 출처, 게시 시간
  - 원문 링크
  - 카테고리 필터 (AI/코인/일반 IT)
- **RSS 피드 지원**
  - 뉴스 피드 구독 기능

#### 4.2.3 가계부
- **수동 입력**
  - 수입/지출 기록
  - 카테고리 (식비, 교통비, 쇼핑 등)
  - 메모, 영수증 이미지
- **자동 연동 (문자 메시지)**
  - SMS 포워딩 연동 (Android 앱 또는 IFTTT)
  - 카드 사용 문자 파싱 (정규식)
  - 금액, 가맹점, 시간 자동 추출
- **자동 연동 (카카오톡)**
  - 카카오페이 알림 파싱
  - 은행 알림 파싱
- **통계 및 차트**
  - 월별/카테고리별 지출 차트
  - 예산 대비 지출 현황
  - 엑셀 내보내기

#### 4.2.4 AI 작품 게시판
- **멀티미디어 지원**
  - 이미지 (DALL-E, Midjourney, Stable Diffusion)
  - 동영상 (Runway, Pika)
  - 음악 (Suno, Udio)
  - 문서 (ChatGPT, Claude 생성 글)
- **작품 메타데이터**
  - 사용 모델, 프롬프트, 생성 날짜
  - 태그, 카테고리
- **갤러리 뷰**
  - 그리드 레이아웃
  - 라이트박스 뷰어
  - 좋아요/댓글

### 4.3 추가 기능 (P2) - Phase 3

#### 4.3.1 유튜브 커버 링크 관리
- **크롤링 시스템**
  - YouTube Data API v3 연동
  - 특정 채널/플레이리스트 구독
  - 접속 시 신규 영상 자동 가져오기 (Realtime Subscription)
- **링크 카드 UI**
  - 썸네일, 제목, 설명
  - YouTube 임베드 플레이어
  - 재생목록 생성
- **검색 및 필터**
  - 아티스트별, 장르별 필터
  - 키워드 검색

#### 4.3.2 이메일 전송 기능
- **문의 폼**
  - 이름, 이메일, 제목, 내용
  - reCAPTCHA v3 (스팸 방지)
- **이메일 전송**
  - Supabase Edge Functions + Resend/SendGrid
  - 관리자 이메일로 전송
  - 자동 회신 이메일 (접수 확인)

#### 4.3.3 관리자 대시보드
- **통계**
  - 일일/주간/월간 방문자 수
  - 인기 게시물 TOP 10
  - 게시판별 활동 통계
  - 가계부 요약 (월별 지출)
- **콘텐츠 관리**
  - 모든 게시판 통합 관리
  - 일괄 삭제, 카테고리 이동
  - 사용자 관리 (권한 변경, 차단)
- **시스템 관리**
  - 크롤링 작업 로그
  - Edge Functions 실행 로그
  - 에러 모니터링 (Loki + Grafana)

---

## 5. 비기능 요구사항

### 5.1 성능
- **페이지 로딩**
  - 초기 로딩: 3초 이내
  - FCP (First Contentful Paint): 1.5초 이내
  - LCP (Largest Contentful Paint): 2.5초 이내
- **이미지 최적화**
  - Next.js Image 컴포넌트 사용
  - WebP/AVIF 포맷 변환
  - Lazy Loading
- **코드 스플리팅**
  - 라우트별 자동 코드 분할
  - 동적 임포트 활용

### 5.2 보안
- **인증/인가**
  - Supabase Auth (JWT)
  - RLS (Row Level Security) 적용
  - HTTPS 강제 (Cloudflare)
- **데이터 보호**
  - 환경변수로 API 키 관리
  - SQL Injection 방지 (Drizzle ORM)
  - XSS 방지 (React 자동 이스케이핑)
- **Rate Limiting**
  - API 엔드포인트별 요청 제한
  - Upstash Redis로 구현

### 5.3 접근성 (Accessibility)
- **WCAG 2.1 AA 준수**
  - 시맨틱 HTML
  - ARIA 속성
  - 키보드 네비게이션
  - 색상 대비 4.5:1 이상
- **반응형 디자인**
  - Mobile First 접근
  - 브레이크포인트: 320px, 768px, 1024px, 1440px
  - 터치 친화적 UI (버튼 크기 44x44px 이상)

### 5.4 SEO
- **메타 태그**
  - Open Graph, Twitter Card
  - 각 페이지별 동적 메타데이터
- **사이트맵**
  - XML 사이트맵 자동 생성
  - robots.txt 설정
- **구조화된 데이터**
  - JSON-LD (Schema.org)
  - Article, Person, BlogPosting

### 5.5 모니터링
- **로그 시스템**
  - Loki + Grafana + Promtail
  - 에러 로그, 접근 로그, 크롤링 로그
- **성능 모니터링**
  - Web Vitals 수집
  - Supabase Realtime으로 실시간 알림
- **알림**
  - 시스템 장애 시 이메일/Slack 알림

---

## 6. 제약사항

### 6.1 기술 제약
- **No 가짜 데이터**: 모든 데이터는 실제 API/DB에서 가져와야 함 (절대 원칙)
- **Supabase 의존성**: 백엔드는 Supabase 생태계 내에서 구현
- **Edge Functions 제한**:
  - 최대 실행 시간 제한 고려
  - Cold Start 시간 최소화 필요
- **크롤링 제한**:
  - 출처 사이트의 robots.txt 준수
  - Rate Limiting 준수

### 6.2 비즈니스 제약
- **개인 프로젝트**: 1인 개발/운영
- **예산**: 무료/저렴한 서비스 우선 (Supabase Free Tier, Cloudflare Free)
- **유지보수**: 자동화 우선, 수동 작업 최소화

### 6.3 법적 제약
- **개인정보 보호**:
  - GDPR/개인정보보호법 준수
  - 개인정보 처리방침 명시
  - 쿠키 동의 (필요 시)
- **저작권**:
  - 크롤링한 뉴스는 출처 명시 + 원문 링크
  - 유튜브 링크는 YouTube TOS 준수

---

## 7. 마일스톤

### Phase 1: 핵심 기능 구축 (4주)
**목표**: 인증, 자기소개, 기본 게시판 시스템 구축

- **Week 1-2**: 프로젝트 세팅 및 인증 시스템
  - ✅ Next.js + Supabase 프로젝트 초기화
  - ✅ Supabase Auth 연동 (이메일, 소셜 로그인)
  - ✅ 관리자 권한 시스템 (RLS)
  - ✅ 디자인 시스템 구축 (Emotion + Radix UI)

- **Week 3**: 자기소개 페이지
  - ✅ 프로필 컴포넌트 (이미지, 소개, SNS 링크)
  - ✅ 기술 스택 섹션
  - ✅ 포트폴리오 카드 (Supabase Storage 연동)

- **Week 4**: 게시판 기본 시스템
  - ✅ 게시글 CRUD (Drizzle ORM)
  - ✅ 마크다운 에디터
  - ✅ 댓글 시스템
  - ✅ 3개 게시판 구축 (AI 스터디, 빅데이터, 자유)

**완료 조건**:
- 회원가입/로그인 가능
- 자기소개 페이지 공개
- 게시판에서 글 작성/조회 가능

---

### Phase 2: 자동화 및 핵심 유틸리티 (3주)
**목표**: 일정 관리, 뉴스 크롤링, 가계부 구축

- **Week 5**: 일정 관리 시스템
  - ✅ 캘린더 UI (react-big-calendar 또는 FullCalendar)
  - ✅ 일정 CRUD
  - ✅ 공개/비공개 설정

- **Week 6**: IT 뉴스 자동 업데이트
  - ✅ Edge Function: 뉴스 크롤러 (AI/코인 뉴스)
  - ✅ Cron Job 설정 (일 1회 실행)
  - ✅ 뉴스 카드 UI
  - ✅ 카테고리 필터링

- **Week 7**: 가계부
  - ✅ 수입/지출 수동 입력
  - ✅ 카테고리 관리
  - ✅ 문자 메시지 파싱 로직 (Edge Function)
  - ✅ 월별 통계 차트

**완료 조건**:
- 일정 캘린더에서 이벤트 등록 가능
- 뉴스가 자동으로 업데이트됨
- 가계부에서 지출 기록 및 통계 확인 가능

---

### Phase 3: 커뮤니티 및 고급 기능 (3주)
**목표**: AI 작품 게시판, 유튜브 크롤링, 이메일 전송

- **Week 8**: AI 작품 게시판
  - ✅ 멀티미디어 업로드 (이미지, 동영상, 음악)
  - ✅ 갤러리 뷰 + 라이트박스
  - ✅ 작품 메타데이터 (모델, 프롬프트)

- **Week 9**: 유튜브 커버 링크 관리
  - ✅ YouTube Data API 연동
  - ✅ 크롤링 Edge Function
  - ✅ 링크 카드 UI + 임베드 플레이어

- **Week 10**: 이메일 전송 및 통합
  - ✅ 문의 폼 + reCAPTCHA
  - ✅ 이메일 전송 (Resend/SendGrid)
  - ✅ 전체 UX 최적화

**완료 조건**:
- AI 작품을 업로드하고 갤러리에서 확인 가능
- 유튜브 커버 영상 자동 수집
- 방문자가 이메일 전송 가능

---

### Phase 4: 관리자 도구 및 최적화 (2주)
**목표**: 관리자 대시보드, 모니터링, 성능 최적화

- **Week 11**: 관리자 대시보드
  - ✅ 통계 대시보드 (방문자, 게시물, 가계부)
  - ✅ 콘텐츠 관리 패널
  - ✅ 사용자 관리

- **Week 12**: 모니터링 및 최적화
  - ✅ Loki + Grafana 연동
  - ✅ 성능 최적화 (이미지, 코드 스플리팅)
  - ✅ SEO 최적화 (사이트맵, 메타 태그)

**완료 조건**:
- 관리자 대시보드에서 전체 통계 확인 가능
- Grafana에서 로그 확인 가능
- Lighthouse 점수 90점 이상

---

### Phase 5: 런칭 및 안정화 (1주)
**목표**: 도메인 연결, 최종 테스트, 런칭

- **Week 13**: 런칭 준비
  - ✅ 도메인 연결 (metaldragon.co.kr)
  - ✅ Cloudflare 설정 (SSL, 캐싱)
  - ✅ 전체 기능 테스트
  - ✅ 개인정보 처리방침, 이용약관 작성
  - ✅ 공식 런칭

**완료 조건**:
- metaldragon.co.kr 접속 가능
- 모든 핵심 기능 정상 작동
- 모니터링 시스템 가동

---

## 8. 우선순위 정리

### Must Have (P0)
- 인증 시스템
- 자기소개 페이지
- 기본 게시판 (AI 스터디, 빅데이터, 자유)

### Should Have (P1)
- 일정 관리
- IT 뉴스 자동 업데이트
- 가계부 (수동 입력 + 문자 연동)
- AI 작품 게시판

### Nice to Have (P2)
- 유튜브 커버 링크 관리
- 이메일 전송 기능
- 관리자 대시보드
- 고급 통계 및 차트

---

## 9. 리스크 관리

### 9.1 기술 리스크
| 리스크 | 영향도 | 완화 방안 |
|--------|--------|-----------|
| Supabase Free Tier 제한 초과 | 높음 | 사용량 모니터링, 필요 시 유료 전환 |
| 크롤링 차단/제한 | 중간 | User-Agent 설정, Rate Limiting, 공식 API 우선 사용 |
| Edge Functions Cold Start | 낮음 | Warming 로직, 캐싱 전략 |
| 문자/카톡 연동 실패 | 중간 | 수동 입력 폴백, IFTTT 대안 마련 |

### 9.2 일정 리스크
| 리스크 | 영향도 | 완화 방안 |
|--------|--------|-----------|
| 1인 개발 지연 | 높음 | 우선순위에 따라 Phase 조정, MVP 먼저 완성 |
| 기술 학습 곡선 | 중간 | 공식 문서, 예제 프로젝트 참고 |
| 스코프 크리프 | 중간 | PRD 엄격 준수, 추가 기능은 Phase 5 이후 |

---

## 10. 용어집

- **RLS (Row Level Security)**: Supabase Postgres의 행 단위 보안 정책
- **Edge Functions**: Supabase의 서버리스 함수 (Deno 런타임)
- **RSC (React Server Components)**: Next.js의 서버 컴포넌트
- **Drizzle ORM**: TypeScript 기반 SQL ORM
- **Emotion**: CSS-in-JS 라이브러리
- **Radix UI**: 접근성 우선 React 컴포넌트 라이브러리
- **Upstash Redis**: 서버리스 Redis 서비스
- **Loki**: 로그 수집 시스템
- **Grafana**: 데이터 시각화 및 모니터링 도구

---

**문서 버전**: 1.0
**작성일**: 2025-10-04
**다음 리뷰 예정일**: Phase 1 완료 시
